{
    "swagger": "2.0",
    "info": {
        "version": "1.0",
        "title": "Document Delete API"
    },
    "basePath": "https://api.natwest.com/documents/v1.0/delete",
    "paths": {
        "/delete": {
            "delete": {
                "tags": [
                    "Document Delete"
                ],
                "summary": "Delete a document",
                "description": "Delete a document from a repository. Note that this will only be possible where the document has not been declared as a record, as records are subject to applicable record management policies.",
                "operationId": "updateUsingPUT",
                "consumes": [
                    "application/json"
                ],
                "produces": [
                    "application/json"
                ],
                "parameters": [
                    {
                        "name": "Authorization",
                        "in": "header",
                        "description": "JWT Bearer Token",
                        "required": true,
                        "type": "string"
                    },
                    {
                        "name": "body",
                        "in": "body",
                        "description": "JSON describing the ID of the document that you wish to delete, and the repository (identified by DocumentSource) that it can be found within. There is an optional allVersions field that will default to true, which is used to instruct the back-end to delete all versions of a document where versioning has been used.",
                        "required": true,
                        "schema": {
                            "$ref": "#/definitions/DeleteRequestObject"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "OK",
                        "schema": {
                            "$ref": "#/definitions/DeleteResponseObject"
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    },
                    "403": {
                        "description": "Forbidden"
                    },
                    "404": {
                        "description": "The document was not found in the repository identified by the DocumentSource."
                    },
                    "500": {
                        "description": "An error occurred on the platform."
                    }
                },
                "deprecated": false
            }
        }
    },
    "definitions": {
        "DeleteRequestObject": {
            "type": "object",
            "properties": {
                "objectId": {
                    "type": "string",
                    "example": "e86411ad-579d-48b8-b4b8-9f14b1e8bcdd",
                    "description": "the ID of the document within the repository"
                },
                "DocumentSource": {
                    "type": "string",
                    "example": "my-programme",
                    "description": "your document source"
                },
                "allVersions": {
                    "type": "boolean",
                    "description": "whether to delete all versions of a document, where multiple versions have been stored",
                    "example": true,
                    "default": true
                }
            }
        },
        "DeleteResponseObject": {
            "type": "object",
            "properties": {
                "status": {
                    "type": "string",
                    "example": "success",
                    "description": "HTTP style response message"
                },
                "message": {
                    "type": "string",
                    "example": "Document was deleted",
                    "description": "description of the status from the repository"
                },
                "code": {
                    "type": "integer",
                    "format": "int32",
                    "example": 200,
                    "description": "HTTP style response code"
                }
            }
        }
    }
}