{
    "openapi": "3.0.0",
    "info": {
        "title": "Indicative Swaps Price API Specification",
        "description": "OAS3 for Indicative Swaps Price API",
        "version": "v1"
    },
    "servers": [
        {
            "url": "https://api.natwest.com/trade-execution/fixed-income/swaps/v1",
            "description": "Production"
        },
        {
            "url": "https://ob.sandbox.natwest.com/zerocode/fixed-income.org/IndicativeSwapsPrice/v1",
            "description": "Sandbox"
        }
    ],
    "paths": {
        "/indicative/quote": {
            "get": {
                "summary": "Get Indicative Swaps Price",
                "tags": [
                    "Indicative Swaps Price"
                ],
                "operationId": "get-indicative-swaps-price",
                "parameters": [
                    {
                        "name": "Authorisation",
                        "in": "header",
                        "description": "Authorization Token",
                        "required": true,
                        "style": "simple",
                        "explode": false,
                        "schema": {
                            "type": "string"
                        }
                    },
                    {
                        "name": "currency",
                        "in": "query",
                        "description": "Underlying currency for which swap rate is requested.",
                        "required": true,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "$ref": "#/components/schemas/Currencies"
                        },
                        "example": "GBP"
                    },
                    {
                        "name": "indexName",
                        "in": "query",
                        "description": "Benchmark Rate Index Name whose swap rate is requested.",
                        "required": true,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "LIBOR"
                    },
                    {
                        "name": "indexTenor",
                        "in": "query",
                        "description": "Benchmark Rate Index Tenor whose swap rate is requested.",
                        "required": true,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "6M"
                    },
                    {
                        "name": "swapTenor",
                        "in": "query",
                        "description": "Maturity tenor for which swap rate is requested assuming effective date of today. Examples: 1Y (1 Year), 9M (9 Months), 12D (12 Days), 3Y2D (3 Year and 2 Days), 5Y2M (5 Years and 2 Months), 6Y3M4D (6 Years 3 Months and 4 Days) Values: [ 1Y, 2Y, ..., 20Y, 25Y, ..., 50Y]",
                        "required": true,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "type": "string"
                        },
                        "example": "10Y"
                    },
                    {
                        "name": "notional",
                        "in": "query",
                        "description": "Notional amount on which swap rate is requested.",
                        "required": false,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "type": "integer",
                            "format": "int64"
                        },
                        "example": "100"
                    },
                    {
                        "name": "clearingVenue",
                        "in": "query",
                        "description": "Clearing Venue where swap is meant to be cleared. List of Clearing Venues supported for Indicative Pricing: LCH, CME, EUREX — Default to be LCH",
                        "required": false,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "$ref": "#/components/schemas/ClearingVenue"
                        },
                        "example": "LCH"
                    },
                    {
                        "name": "swapType",
                        "in": "query",
                        "description": "Values: [MatchedMaturity, ParPar]",
                        "required": false,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "$ref": "#/components/schemas/SwapType"
                        },
                        "example": "MatchedMaturity"
                    },
                    {
                        "name": "direction",
                        "in": "query",
                        "description": "Direction indicates Buy or Sell direction from customer standpoint. Only valid if customer have scope: indicativeswapprice:advancedsearch",
                        "required": false,
                        "style": "form",
                        "explode": true,
                        "schema": {
                            "$ref": "#/components/schemas/Direction"
                        },
                        "example": "Buy"
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/IndicativeSwapsPriceResponse"
                                },
                                "example": {
                                    "data": {
                                        "currency": "GBP",
                                        "indexName": "LIBOR",
                                        "indexTenor": "6M",
                                        "swapTenor": "10Y",
                                        "mid": 104.5
                                    }
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Bad Request",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/BadRequest"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Unauthorized"
                                }
                            }
                        }
                    },
                    "403": {
                        "description": "Forbidden",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/Forbidden"
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "NotFound",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/NotFound"
                                }
                            }
                        }
                    },
                    "405": {
                        "description": "MethodNotAllowed",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/MethodNotAllowed"
                                }
                            }
                        }
                    },
                    "415": {
                        "description": "UnsupportedMediaType",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/UnsupportedMediaType"
                                }
                            }
                        }
                    },
                    "422": {
                        "description": "UnprocessableEntity",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "oneOf": [
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexTenor1"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexName1"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexName2"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexTenor2"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexName3"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexName4"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidIndexName5"
                                        },
                                        {
                                            "$ref": "#/components/schemas/InvalidSwapTenor"
                                        }
                                    ]
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "ServerError",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "$ref": "#/components/schemas/ServerError"
                                }
                            }
                        }
                    }
                },
                "security": [
                    {
                        "TPPOAuth2Security": [
                            "indicativeswapprice:search",
                            "indicativeswapprice:advancedsearch"
                        ]
                    }
                ]
            }
        }
    },
    "components": {
        "securitySchemes": {
            "TPPOAuth2Security": {
                "type": "oauth2",
                "description": "TPP client credential authorisation flow with the ASPSP",
                "flows": {
                    "clientCredentials": {
                        "tokenUrl": "https://ob.sandbox.natwest.com/token",
                        "scopes": {
                            "indicativeswapprice:search": "Indicative Swaps Price basic search",
                            "indicativeswapprice:advancedsearch": "Indicative Swaps Price advanced search"
                        }
                    }
                }
            }
        },
        "schemas": {
            "Currencies": {
                "type": "string",
                "enum": [
                    "GBP",
                    "EUR",
                    "USD",
                    "SEK",
                    "NOK"
                ]
            },
            "Direction": {
                "type": "string",
                "enum": [
                    "Buy",
                    "Sell"
                ]
            },
            "IndicativeSwapsPriceResponse": {
                "title": "Indicative Swaps Price Response",
                "type": "object",
                "properties": {
                    "currency": {
                        "$ref": "#/components/schemas/Currencies",
                        "description": "Underlying currency for which swap rate is requested."
                    },
                    "indexName": {
                        "type": "string",
                        "description": "Benchmark Rate Index Name whose swap rate is requested."
                    },
                    "indexTenor": {
                        "type": "string",
                        "description": "Benchmark Rate Index Tenor whose swap rate is requested."
                    },
                    "swapTenor": {
                        "type": "string",
                        "description": "Maturity tenor for which swap rate is requested assuming effective date of today."
                    },
                    "notional": {
                        "type": "integer",
                        "format": "int64",
                        "description": "Notional amount on which swap rate is requested."
                    },
                    "clearingVenue": {
                        "$ref": "#/components/schemas/ClearingVenue",
                        "description": "Clearing Venue where swap is meant to be cleared. List of Clearing Venues supported for Indicative Pricing: LCH, CME, EUREX — Default to be LCH"
                    },
                    "indicativePrice": {
                        "type": "number",
                        "format": "double",
                        "description": "Indicative Swap Rate returned for swap as per customer input parameters. This will be the mid price i.e. (Bid+ Ask)/2"
                    }
                }
            },
            "ClearingVenue": {
                "type": "string",
                "enum": [
                    "LCH",
                    "CME",
                    "EUREX"
                ]
            },
            "SwapType": {
                "type": "string",
                "enum": [
                    "MatchedMaturity",
                    "ParPar"
                ]
            },
            "IndicativeSwapsPriceAdvancedResponse": {
                "title": "Indicative Swaps Price Advanced Response",
                "type": "object",
                "properties": {
                    "currency": {
                        "$ref": "#/components/schemas/Currencies",
                        "description": "Underlying currency for which swap rate is requested."
                    },
                    "indexName": {
                        "type": "string",
                        "description": "Benchmark Rate Index Name whose swap rate is requested."
                    },
                    "indexTenor": {
                        "type": "string",
                        "description": "Benchmark Rate Index Tenor whose swap rate is requested."
                    },
                    "swapTenor": {
                        "type": "string",
                        "description": "Maturity tenor for which swap rate is requested assuming effective date of today."
                    },
                    "notional": {
                        "type": "integer",
                        "format": "int64",
                        "description": "Notional amount on which swap rate is requested."
                    },
                    "clearingVenue": {
                        "$ref": "#/components/schemas/ClearingVenue",
                        "description": "Clearing Venue where swap is meant to be cleared. List of Clearing Venues supported for Indicative Pricing: LCH, CME, EUREX — Default to be LCH"
                    },
                    "direction": {
                        "$ref": "#/components/schemas/Direction",
                        "description": "Direction indicates Pay or Receive direction from customer standpoint."
                    },
                    "indicativePrice": {
                        "type": "number",
                        "format": "double",
                        "description": "Indicative Swap Rate returned for swap as per customer input parameters. This will be the mid price i.e. (Bid+ Ask)/2"
                    }
                }
            },
            "BadRequest": {
                "description": "Bad Request",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "400"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Bad Request"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid direction"
                    }
                }
            },
            "Unauthorized": {
                "description": "Unauthorized",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "401"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unauthorized"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Access credentials not present or invalid."
                    }
                }
            },
            "Forbidden": {
                "description": "Forbidden",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "403"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Forbidden"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Forbidden"
                    }
                }
            },
            "NotFound": {
                "description": "Not Found",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "404"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Not Found"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "You sent a request for a resource that does not exist."
                    }
                }
            },
            "MethodNotAllowed": {
                "description": "Method Not Allowed",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "405"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Method Not Allowed"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Method Not Allowed"
                    }
                }
            },
            "UnsupportedMediaType": {
                "description": "Unsupported Media Type",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "415"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unsupported Media Type"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Unsupported Media Type"
                    }
                }
            },
            "InvalidIndexTenor1": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index tenor; allowed: 1M, 3M, 6M, 12M"
                    }
                }
            },
            "InvalidIndexName1": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index name; allowed: LIBOR"
                    }
                }
            },
            "InvalidIndexName2": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index name; allowed: EONIA, ESTR and EURIBOR"
                    }
                }
            },
            "InvalidIndexTenor2": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index tenor; allowed: 1M, 3M, 6M"
                    }
                }
            },
            "InvalidIndexName3": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index name; allowed: SOFR, OIS and LIBOR"
                    }
                }
            },
            "InvalidIndexName4": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index name; allowed: STTN, STIBOR"
                    }
                }
            },
            "InvalidIndexName5": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Invalid index name; allowed: NIBOR"
                    }
                }
            },
            "InvalidSwapTenor": {
                "description": "Unprocessable Entity",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "422"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Unprocessable Entity"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "SwapTenor is invalid"
                    }
                }
            },
            "ServerError": {
                "description": "ServerError",
                "type": "object",
                "properties": {
                    "status": {
                        "type": "string",
                        "description": "HTTP status code",
                        "example": "500"
                    },
                    "title": {
                        "type": "string",
                        "description": "Message describing the error",
                        "example": "Internal Server Error"
                    },
                    "description": {
                        "type": "string",
                        "description": "Syntactic Error code",
                        "example": "Our backend is non-functional, please try again later."
                    }
                }
            }
        }
    }
}